<!DOCTYPE html>
<html>
    <head>
        <script src='https://www.google.com/recaptcha/api.js'></script>
        <script type="text/javascript" charset = "utf-8">
            	
			//Just to verify the click worked.
			document.getElementById("g-recaptcha").addEventListener('click', function(e){
				var msg = '#testTarget got clicked: ',
						modifiers = [];

				if (e.ctrlKey) {modifiers.push('Control key')};
				if (e.shiftKey) {modifiers.push('Shift key')};
				if (e.altKey) {modifiers.push('Alt key')};
				if (e.metaKey) {modifiers.push('Meta key')};

				msg += modifiers.join(', ');

				alert(msg);
			}, false);

			//Just to verify the click worked.
			document.getElementById("g-recaptcha").addEventListener('click', function(){
				var options = {
					ctrlKey: document.getElementById('modifier_control').checked,
					altKey: document.getElementById('modifier_alt').checked,
					shiftKey: document.getElementById('modifier_shift').checked,
					metaKey: document.getElementById('modifier_meta').checked,
				}

				simulatedClick(document.getElementById("g-recaptcha"), options);
			}, false);
	
      function simulatedClick(target, options) {

		    var event = target.ownerDocument.createEvent('MouseEvents'),
		        options = options || {},
		        opts = { // These are the default values, set up for un-modified left clicks
		          type: 'click',
		          canBubble: true,
		          cancelable: true,
		          view: target.ownerDocument.defaultView,
		          detail: 1,
		          screenX: 0, //The coordinates within the entire page
		          screenY: 0,
		          clientX: 0, //The coordinates within the viewport
		          clientY: 0,
		          ctrlKey: false,
		          altKey: false,
		          shiftKey: false,
		          metaKey: false, //I *think* 'meta' is 'Cmd/Apple' on Mac, and 'Windows key' on Win. Not sure, though!
		          button: 0, //0 = left, 1 = middle, 2 = right
		          relatedTarget: null,
		        };

		    //Merge the options with the defaults
		    for (var key in options) {
		      if (options.hasOwnProperty(key)) {
		        opts[key] = options[key];
		      }
		    }

		    //Pass in the options
		    event.initMouseEvent(
		        opts.type,
		        opts.canBubble,
		        opts.cancelable,
		        opts.view,
		        opts.detail,
		        opts.screenX,
		        opts.screenY,
		        opts.clientX,
		        opts.clientY,
		        opts.ctrlKey,
		        opts.altKey,
		        opts.shiftKey,
		        opts.metaKey,
		        opts.button,
		        opts.relatedTarget
		    );

		    //Fire the event
		    target.dispatchEvent(event);
		}
        </script>
        <title>Did we win yet</title>
        <style type="text/css">
            #g-recaptcha{
                position: fixed; 
                margin-left: -20px;
                margin-top: -20px;
            }
        </style>
        <script type="text/javascript">
            window.onload = function(){
                var bsDiv = document.getElementById("g-recaptcha");
                var x, y;
    // On mousemove use event.clientX and event.clientY to set the location of the div to the location of the cursor:
                window.addEventListener('mousemove', function(event){
                    x = event.clientX;
                    y = event.clientY;                    
                    if ( typeof x !== 'undefined' ){
                        bsDiv.style.left = x + "px";
                        bsDiv.style.top = y + "px";
                        var options = {
                            ctrlKey: document.getElementById('modifier_control').checked,
                            altKey: document.getElementById('modifier_alt').checked,
                            shiftKey: document.getElementById('modifier_shift').checked,
                            metaKey: document.getElementById('modifier_meta').checked,
                        }
                        simulatedClick(document.getElementById("g-recaptcha"), options);
                    }
                }, false);
            }
        </script>
    </head>
    <body>
        <h1> yes9</h1>
        <div class="g-recaptcha" id="g-recaptcha" data-sitekey="6LeoDLAZAAAAADZkFfbPDSSpiWGqhAspZAD3-8uw" </div>
    </body>
</html>
